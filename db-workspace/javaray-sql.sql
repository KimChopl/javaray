DROP TABLE TB_FISH;
CREATE TABLE TB_FISH(
	FISH_NO VARCHAR2(5) PRIMARY KEY,
	FISH_NAME VARCHAR2(60) NOT NULL UNIQUE
);

DROP TABLE TB_FISH_CONTENT;
CREATE TABLE TB_FISH_CONTENT(
	FISH_NO VARCHAR2(5) REFERENCE TB_FISH PRIMARY KEY,
	START_OUT_OF_SEASON DATE,
	END_OUT_OF_SEASON DATE,
	DEFAULT_SIZE NUMBER,
	EXPLAINATION VARCHAR2(1500) NOT NULL
);

DROP TABLE TB_SERVICE
CREATE TABLE TB_SERVICE(
	SHIPPING_SERVIE_NO NUMBER PRIMARY KEY;
	SHIPPING_SERVICE_CONTENT VARCHAR2(60) NOT NULL UNIQUE
)

DROP TABLE TB_SHIPPING_IMAGE;
CREATE TABLE TB_SHIPPING)IMAGE(
	IMAGE_NO NUMBER PRIMARY KEY,
	IMAGE_PATH VARCHAR2(60) NOT NULL,
	IMAGE_ORIGIN_NAME VARCHAR2(60) NOT NULL,
	IMAGE_CHANGE_NAME VARCHAR2(60) NOT NULL UNIQUE,
	REF_BOARD_NO VARCHAR2(60) NOT NULL,
	IMAGE_LEVEL CHAR(1) NOT NULL,
	STATUS CHAR(1) NOT NULL DEFAULT 'Y' CHECK (STATUS IN('Y', 'N'))
);

DROP TABLE TB_PORT;
CREATE TABLE TB_PORT(
	PORT_NO VARVHAR2(5) PRIMARY KEY,
	LAT NUMBER NOT NULL,
	LON NUMBER NOT NULL,
	ADDRESS VARCHAR2(150) NOT NULL
);

DROP TABLE TB_MEMBER;
CREATE TABLE TB_MEMBER(
	USER_NO NUMBER PRIMARY KEY,
	USER_NAME VARCHAR2(50) NOT NULL,
	USER_ID VARCHAR2(25) NOT NULL UNIQUE,
	USER_PWD VARCHAR2(64) NOT NULL,
	NICKNAME VARCHAR2(50) NOT NULL UNIQUE,
	EMAIL VARCHAR2(80) NOT NULL UNIQUE,
	PHONE VARCHAR2(30) NOT NULL,
	ROLE VARCHAR2(30) NOT NULL,
	CREATE_AT DATE DEFAULT SYSDATE,
	STATUS CHAR(1) DEFAULT 'Y' CHECK (STATUS IN('Y', 'N'))
);

DROP TABLE TB_FUNDING_COMPANY;
CREATE TABLE TB_FUNDING_COMPANY(
	BUSINESS_NUMBER NUMBER PRIMARY KEY,
	USER_NO NNUMBER NOT NULL REFERENCE TB_MEMBER,
	COMPANY_NAME CARCHAR2(150) NOT NULL,
	PHONE_NUMBER NUMBER NOT NULL,
	OPENIMG_DATE DATE NOT NULL,
	CEO_NAME VARCHAR2(30) NOT NULL,
	CORPORATE_REGISTRATION_NUMBER NUMBER,
	COMPANY_INTRODUCE VARCHAR2(3000) NOT NULL,
	APPLICATION_DATE DATE NOT NULL DEFAULT SYSDATE,
	ADMIN_STATUS CHAR(1) NOT NULL DEFAULT 'N' CHECK (STATUS IN('Y', 'N'))
);

DROP TABLE TB_BUSINESS_NUMBER_INFO;
CREATE TABLE TB_BUSINESS_NUMBER_INFO(
	BUSINESS_NUMBER NUMBER REFERENCE TB_FUNDING_COMPANY PRIMARY KEY,
	COMMENT VARCHAR2(150) NOT NULL,
	RESULT_CODE NUMBER NOT NULL
);

DROP TABLE TB_FISHING;
CREATE TABLE TB_FISHING(
	FISHING_NO NUMBER PRIMARY KEY,
	USER_NO NUMBER NOT NULL REFERENCE TB_MEMBER,
	FISHING_NAME CARCHAR2(30) NOT NULL UNIQUE,
	PHONE VARCHAR2(30) NOT NULL UNIQUE,
	ADDRESS VARCHAR2(100) NOT NULL UNIQUE,
	-- DAY VARCHAR2(20) NOT NULL,
	START_TIME VARCHAR2(30) NOT NULL,
	END_TIME VARCHAR2(30) NOT NULL,
	COMMENT VARCHAR2(1000),
	LATITUDE NUMBER DEFAULT 0,
	LONGITUDE NUMBER DEFAULT 0,
	STATUS CHAR(1) NOT NULL DEFAULT 'N' CHECK (STATUS IN('Y', 'N'))
);

DROP TABLE TB_FISHING_PHOTO;
CREATE TABLE TB_FISHING_PHOTO(
	FILE_NO NUMBER PRIMARY KEY,
	FISHING_NO NUMBER NOT NULL REFERENCE TB_FISHING,
	ORIGIN_NAME VARCHAR2(200),
	CHANGE_NAME VARCHAR2(200),
	FILE_PATH VARCHAR2(100),
	FILE_LEVEL NUMBER
);

DROP TABLE TB_FRESH_WATHER_FISH;
CREATE TABLE TB_FRESH_WATHER_FISH(
	FISH_NO NUNBER PRIMARY KEY,
	FISH_NAME VARCHAR2(30) NOT NULL
);

DROP TABLE TB_REGISTERED_FISH;
CREATE TABLE TB_REGISTERED_FISH(
	FISH_NO NUMBER NOT NULL REFERENCE TB_FRESH_WATHER_FISH,
	FISHING_NO NUMBER NOT NULL REFERENCE TB_FISHING,
	PRIMARY KEY(FISH_NO, FISHING_NO)
);

DROP TABLE TB_AMENITES;
CREATE TABLE TB_AMENITIES(
	AMENITIES_NO NUMBER PRIMARY KEY,
	AMENITIES_NAME VARCHAR2(30) NOT NULL
);

DROP TABLE TB_REGISTERED_AMENITIES;
CREATE TABLE TB_REGISTERED_AMENITIES(
	AMENITIES_NO NUMBER NOT NULL REFERENCE TB_AMENITIES,
	FISHING_NO NUMBER NOT NULL REFERENCE TB_FISHING,
	PRIMARY KEY(AMENITIES_NO, FISHING_NO)
);

DROP TABLE TB_SHIPPING;
CREATE TABLE TB_SHIPPING(
	FISHING_NO VARCHAR2(20) NOT NULL PRIMARY KEY,
	PORT_NO VARCHAR2(5) NOT NULL REFERENCE TB_PORT,
	USER_NO NUMBER NOT NULL REFERENCE TB_MEMBER,
	FISHING_TITLE VARCHAR2(90) NOT NULL,
	FISHING_CONTENT VARCHAR2(4000) NOT NULL,
	ALLOW_PEPLE_NO NUMBER NOT NULL,
	STATUS CHAR(1) NOT NULL DEFAULT 'Y' CHECK (STATUS IN('Y', 'N')),
	FISHING_CREATE_DATE DATE NOT NULL DEFAULT SYSDATE,
	FISHING_MODIFY_DATE DATE
);

DROP TABLE TB_SHIPPING_SERVICE;
CREATE TABLE TB_SHIPPING_SERVICE(
	SHIPPING_NO VARCHAR2(20) NOT NULL REFERENCE TB_SHIPPING,
	SHIPPING_SERVICE CARCHAR2(5) NOT NULL REFERENCE TB_SERVICE,
	PRIMARY KEY(SHIPPING_NO, SHIPPING_SERVICE)
);

DROP TABLE TB_SHIPPING_ATTENTION;
CREATE TABLE TB_SHIPPING_ATTENTION(
	SHIPPING_NO VARCHAR2(20) NOT NULL REFERENCE TB_SHIPPING,
	USER_NO NUMBER NOT NULL REFERENCE TB_MEMBER,
	PRIMARY KEY(SHIPPING_NO, USER_NO)
);

DROP TABLE TB_ENABLE_FISH;
CREATE TABLE TB_ENABLE_FISH(
	SHIPPING_NO VARCHAR2(20) NOT NULL REFERENCE TB_SHIPPING,
	FISH_NO VARCHAR2(10) NOT NULL REFERENCE TB_FISH,
	PRIMARY KEY (SHIPPING_NO, FISH_NO)
);

DROP TABLE TB_WEATHER_REPLY;
CREATE TABLE TB_WEATHER_REPLY(
	WEATHER_REPLY_NO VARCHAR2(25) NOT NULL PRIMARY KEY,
	PORT_NO VARCHAR2(5) NOT NULL REFERENCE TB_PORT,
	USER_NO NUMBER NOT NULL REFERENCE TB_MEMBER,
	WEATHER_REPLY_CONTENT VARCHAR2(600) NOT NULL,
	WEATHER_REPLY_CREATE_DATE DATE NOT NULL DEFAULT SYSDATE,
	WEATHER_REPLY_MODIFY_DATE DATE,
	STATUS CHAR(1) NOT NULL DEFAULT 'Y' CHECK (STATUS IN('Y', 'N'))
);

DROP TABLE TB_SHIPPING_BOOK;
CREATE TABLE TB_SHIPPING_BOOK(
	BOOK_NO VARCHAR2(25) NOT NULL PRIMARY KEY,
	SHIPPING_NO VARCHAR2(20) NOT NULL REFERENCE TB_SHIPPING,
	USER_NO NUMBER NOT NULL REFERENCE TB_MEMBER,
	BOOK_PEPLE_NO NUMBER NOT NULL,
	PLAY_DATE DATE NOT NULL DEFAULT SYSDATE,
	BOOK_CONTENT VARCHAR2(4000),
	BOOK_CREATE_DATE DATE NOT NULL DEFAULT SYSDATE,
	BOOK_MODIFY_DATE DATE
);

DROP TABLE TB_SHIPPING_BOOK_STATUS;
CREATE TABLE TB_SHIPPING_BOOK_STATUS(
	BOOK_NO VARCHAR2(25) NOT NULL REFERENCE TB_SHIPPING_BOOK,
	USER_NO NUMBER NOT NULL REFERENCE TB_MEMBER,
	BOOK_DELETE_DATE DATE NOT NULL DEFAULT SYSDATE,
	PRIMARY KEY(BOOK_NO, USER_NO)
);

DROP TABLE TB_SHIPPING_REVIEW;
CREATE TABLE TB_SHIPPING_REVIEW(
	BOOK_NO VARCHAR2(25) NOT NULL REFERENCE TB_SHIPPING_BOOK PRIMARY KEY,
	RATING NUMBER NOT NULL CHECK (RATING IN(1, 2, 3, 4, 5)),
	REVIEW_CREATE_DATE DATE NOT NULL DEFAULT SYSDATEM,
	REVIEW_MODIFY_DATE DATE,
	STATUS CHAR(1) NOT NULL DEFAULT 'Y' CHECK (STATUS IN('Y', 'N'))
);

DROP TABLE TB_SHIPPING_DECIDE;
CREATE TABLE TB_SHIPPING_DECIDE(
	BOOK_NO VARCHAR2(25) NOT NULL REFERENCE TB_SHIPPING_BOOK PRIMARY KEY,
	CAPTAIN_COMMENT CARCHAR2(1500),
	BOOK_DECIDE_DATE NOT NULL DEFAULT SYSDATE
);

DROP TABLE TB_SHIPPING_CANCEL;
CREATE TABLE TB_SHIPPING_CANCEL(
	BOOK_NO VARCHAR2(25) NOT NULL REFERENCE TB_SHIPPING_BOOK PRIMARY KEY,
	CANCEL_REASON CARCHAR2(4000) NOT NULL,
	CANCEL_DATE DATE NOT NULL DEFAULT SYSDATE,
	CANCEL_MEMBER_TYPE NOT NULL
);

DROP TABLE TB_SHIPPING_PLAY;
CREATE TABLE TB_SHIPPING_PLAY(
	BOOK_NO VARCHAR2(25) NOT NULL REFERENCE TB_SHIPPING_BOOK PRIMARY KEY,
	PLAY CHAR(1) NOT NULL DEFAULT 'Y' CHECK (PLAY IN ('Y', 'N')),
	CAPTAIN_COMMENT VARCHAR2(1500),
	PLAY_DECIDE_DATE DATE NOT NULL DEFAULT SYSDATE
);